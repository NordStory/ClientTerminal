# Терминал самообслуживания

Веб-терминал самообслуживания для сервисного центра с интеграцией Telegram-бота для автоматического уведомления кладовщиков.

## Возможности

- **Самообслуживание клиентов** - клиенты могут самостоятельно вводить Inventory ID указанный в объявление на Авито
- **Автоматические уведомления** - мгновенные уведомления кладовщиков через Telegram
- **Быстрый поиск** - прямые ссылки в Telegram на поиск товара на Авито и складе
- **Современный интерфейс** - адаптивный дизайн для различных устройств

## Архитектура

```
self-service-terminal/
├── public/           # Веб-интерфейс (HTML, CSS, JS)
├── server/           # Серверная часть (Node.js + Express)
│   ├── config/       # Конфигурация (Telegram-бот)
│   ├── middleware/   # Промежуточное ПО для валидации и обработки ошибок
│   ├── routes/       # API маршруты
│   ├── utils/        # logger.js - система логирования
│   └── index.js      # Основной сервер
└── package.json      # Зависимости и скрипты
```

## Требования

- Node.js >= 14.0.0
- npm или yarn
- Telegram Bot Token
- Telegram Group ID для уведомлений

## Установка
> Для нзапуска проект запустите start.sh или пройдите по пунктам далее:

1. **Клонирование репозитория:**
   ```bash
   git clone <repository-url>
   cd self-service-terminal
   ```

2. **Установка зависимостей:**
   ```bash
   npm install
   ```

3. **Настройка переменных окружения:**
   ```bash
   cp env.example .env
   # Отредактируйте .env файл, добавив ваши токены
   ```

4. **Запуск:**
   ```bash
   # Продакшн
   npm start
   
   # Разработка (с автоперезагрузкой)
   npm run dev
   ```

## Конфигурация

Создайте файл `.env` со следующими переменными:

```env
# Telegram Bot Configuration
TGTOKEN=your_telegram_bot_token_here
IDGROUP=your_telegram_group_id_here

# Server Configuration
PORT=1500
```

## API Endpoints

### POST /bot
Обрабатывает запросы от терминала и отправляет уведомления в Telegram.

**Параметры:**
- `InventoryID` - ID товара для поиска

**Ответ:**
- Перенаправление на главную страницу после успешной обработки

## Telegram-бот

Бот автоматически отправляет уведомления с inline-клавиатурой, содержащей:
- Ссылку на поиск товара на Авито
- Ссылку на поиск товара на складе (AppSheet)

## Веб-интерфейс

Терминал доступен по адресу `http://localhost:1500` и включает:
- Форму ввода Inventory ID
- Ссылки на договор, сайт компании и форму ремонта
- QR-код с контактной информацией

## Разработка

### Структура проекта
- **`public/`** - статические файлы веб-интерфейса
- **`server/config/`** - конфигурация и настройки
- **`server/routes/`** - API маршруты
- **`server/index.js`** - основной серверный файл

### Добавление новых функций
1. Создайте новый маршрут в `server/routes/`
2. Подключите его в `server/index.js`
3. Обновите веб-интерфейс в `public/`
